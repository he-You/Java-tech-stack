简单概括：

- 聚集索引就是以主键创建的索引
- 非聚集索引就是以非主键创建的索引

区别：

- 聚集索引在叶子节点存储的是表中的数据
- 非聚集索引在叶子节点存储的是主键和索引列
- 使用非聚集索引查询出数据时，拿到叶子上的主键再去查到想要查找的数据。(拿到主键再查找这个过程叫做回表)

非聚集索引也叫做二级索引

非聚集索引在建立的时候也未必是单列的，可以多个列来创建索引。
- 此时就涉及到了哪个列会走索引，哪个列不走索引的问题了(最左匹配原则)
- 创建多个单列(非聚集)索引的时候，会生成多个索引树(所以过多创建索引会占用磁盘空间)

**在创建多列索引中也涉及到了一种特殊的索引-->覆盖索引**

我们前面知道了，如果不是聚集索引，叶子节点存储的是主键+列值
最终还是要“回表”，也就是要通过主键再查找一次。这样就会比较慢
覆盖索引就是把要查询出的列和索引是对应的，不做回表操作！

比如说：

现在我创建了索引(username,age)，在查询数据的时候：
```
select username , age from user where username = 'heyou' and age = 23。
```

很明显地知道，我们上边的查询是走索引的，并且，要查询出的列在叶子节点都存在！所以，就不用回表了

最左匹配原则:
- 索引可以简单如一个列(a)，也可以复杂如多个列(a, b, c, d)，即联合索引。
- 如果是联合索引，那么key也由多个列组成，同时，索引只能用于查找key是否存在（相等），遇到范围查询(>、<、between、like左匹配)等就不能进一步匹配了，后续退化为线性查找。
- 因此，列的排列顺序决定了可命中索引的列数。

例子：

如有索引(a, b, c, d)，查询条件a = 1 and b = 2 and c > 3 and d = 4，则会在每个节点依次命中a、b、c，无法命中d。(很简单：索引命中只能是相等的情况，不能是范围匹配)

当构建组合索引(a,b,c,d)时，实际上创建了(a), (a, b), (a, b, c), (a, b,c ,d)四个索引，
每个索引先保证前面的key有序，再保证后面的key有序。实际上当查询条件a = 1 and b = 2 and c > 3 时，
可以用索引(a, b, c)，因为在a，b相同的情况下，c是有序的。
但是当查询条件a = 1 and b = 2 and c > 3 and d = 4时，就不能用上述建的索引中的任意一个。
所以a，b，c命中，d无法命中，如果查询条件a = 1 and b = 2 and c = 3 and d > 4，那么d也命中，就用(a,b,c,d)索引。
